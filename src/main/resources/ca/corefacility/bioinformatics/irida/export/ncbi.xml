<?xml version='1.0' encoding='utf-8'?>

<Submission schema_version="2.0" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://www.ncbi.nlm.nih.gov/viewvc/v1/trunk/submit/public-docs/common/submission.xsd?view=co">
	<Description>
		<Organization role="owner" type="institute">
			<Name>IRIDA</Name>
			<Contact th:attr="email=${submission.submitter.email}">
				<Name>
					<First th:text="${submission.submitter.firstName}">_jane_</First>
					<Last th:text="${submission.submitter.lastName}">_doe_</Last>
				</Name>
			</Contact>
		</Organization>
		<Hold th:attr="release_date=${submission.release_date}"></Hold>
	</Description>

	<Action th:each="sample : ${submission.bioSampleFiles}">
		<AddFiles target_db="SRA" th:each="file : ${sample.files}">
			<File th:attr="file_path=${file.getFileName()}">
				<DataType>generic-data</DataType>
			</File>
			<Attribute name="instrument_model" th:text="${sample.instrument_model.value}">_Model_</Attribute>
			<Attribute name="library_name" th:text="${sample.library_name}">_name_</Attribute>
			<Attribute name="library_strategy" th:text="${sample.library_strategy.value}">_Strategy_</Attribute>
			<Attribute name="library_source" th:text="${sample.library_source.value}">_Source_</Attribute>
			<Attribute name="library_selection" th:text="${sample.library_selection.value}">_Selection_</Attribute>
			<Attribute name="library_layout">SINGLE</Attribute>
			<Attribute name="library_construction_protocol" th:text="${sample.library_construction_protocol}">_Protocol_</Attribute>
			<AttributeRefId name="BioProject">
				<RefId>
					<PrimaryId db="BioProject" th:text="${submission.bioProjectId}">_Project_</PrimaryId>
				</RefId>
			</AttributeRefId>
			<AttributeRefId name="BioSample">
				<RefId>
					<PrimaryId db="BioSample" th:text="${sample.getBioSample()}">_Sample_</PrimaryId>
				</RefId>
			</AttributeRefId>
			<Identifier>
				<SPUID th:attr="spuid_namespace=${submission.ncbiNamespace}"
					th:text="${sample.id}">_spuid_</SPUID>
			</Identifier>
		</AddFiles>
		<AddFiles target_db="SRA" th:each="pair : ${sample.pairs}">
			<File th:attr="file_path=${pair.getForwardSequenceFile().getFileName()}">
				<DataType>generic-data</DataType>
			</File>
			<File th:attr="file_path=${pair.getReverseSequenceFile().getFileName()}">
				<DataType>generic-data</DataType>
			</File>
			<Attribute name="instrument_model" th:text="${sample.instrument_model.value}">_Model_</Attribute>
			<Attribute name="library_name" th:text="${sample.library_name}">_name_</Attribute>
			<Attribute name="library_strategy" th:text="${sample.library_strategy.value}">_Strategy_</Attribute>
			<Attribute name="library_source" th:text="${sample.library_source.value}">_Source_</Attribute>
			<Attribute name="library_selection" th:text="${sample.library_selection.value}">_Selection_</Attribute>
			<Attribute name="library_layout">PAIRED</Attribute>
			<Attribute name="library_construction_protocol" th:text="${sample.library_construction_protocol}">_Protocol_</Attribute>
			<AttributeRefId name="BioProject">
				<RefId>
					<PrimaryId db="BioProject" th:text="${submission.bioProjectId}">_Project_</PrimaryId>
				</RefId>
			</AttributeRefId>
			<AttributeRefId name="BioSample">
				<RefId>
					<PrimaryId db="BioSample" th:text="${sample.getBioSample()}">_Sample_</PrimaryId>
				</RefId>
			</AttributeRefId>
			<Identifier>
				<SPUID th:attr="spuid_namespace=${submission.ncbiNamespace}"
					th:text="${sample.id}">_spuid_</SPUID>
			</Identifier>
		</AddFiles>
	</Action>
</Submission>
