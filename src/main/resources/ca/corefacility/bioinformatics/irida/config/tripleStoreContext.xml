<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans   http://www.springframework.org/schema/beans/spring-beans-3.1.xsd">

    <beans profile="production">

        <bean id="tripleStore" init-method="initialize" destroy-method="close"
              class="ca.corefacility.bioinformatics.irida.repositories.sesame.dao.TripleStore">
            <constructor-arg value="${db.uri}"/>
            <constructor-arg value="${db.production.instance}"/>
            <constructor-arg value="${db.base_uri}"/>
        </bean>
        <bean id="ontologyLoader" init-method="addResourceList" class="ca.corefacility.bioinformatics.irida.repositories.sesame.dao.RDFFileLoader">
            <constructor-arg ref="tripleStore"/>
            <constructor-arg>
                <list>
                    <value>classpath:/ca/corefacility/bioinformatics/irida/rdf/Irida.owl</value>
                </list>
            </constructor-arg>
            <constructor-arg value="http://corefacility.ca/irida"/>
        </bean>               
    </beans>
    

    <beans profile="memory">
        <bean id="tripleStore" init-method="initialize" destroy-method="close"
              class="ca.corefacility.bioinformatics.irida.repositories.sesame.dao.SailStore">
            <!-- uncomment this block if you want to look at the data that's in the sesame repository. -->
            <!--<constructor-arg>
                <value type="java.io.File">/tmp/sail</value>
            </constructor-arg>-->
        </bean>
    </beans>
    
    <beans profile="dev">
        <bean id="tripleStore" init-method="initialize" destroy-method="close"
              class="ca.corefacility.bioinformatics.irida.repositories.sesame.dao.TripleStore">
            <constructor-arg value="${db.uri}"/>
            <constructor-arg value="${db.dev.instance}"/>
            <constructor-arg value="${db.base_uri}"/>
        </bean>
        <bean id="rdfFileLoader" init-method="addResourceList" class="ca.corefacility.bioinformatics.irida.repositories.sesame.dao.RDFFileLoader">
            <constructor-arg ref="tripleStore"/>
            <constructor-arg>
                <list>
                    <value>classpath:/ca/corefacility/bioinformatics/irida/rdf/exampledata.rdf</value>
                </list>
            </constructor-arg>
            <constructor-arg value="${db.base_uri}"/>
        </bean> 
        
        <bean id="ontologyLoader" init-method="addResourceList" class="ca.corefacility.bioinformatics.irida.repositories.sesame.dao.RDFFileLoader">
            <constructor-arg ref="tripleStore"/>
            <constructor-arg>
                <list>
                    <value>classpath:/ca/corefacility/bioinformatics/irida/rdf/Irida.owl</value>
                </list>
            </constructor-arg>
            <constructor-arg value="http://corefacility.ca/irida"/>
        </bean>        
    </beans>

</beans>
