<!DOCTYPE html>
<html lang="en">
<head th:include="fragments/header" th:remove="tag"></head>
<body data-ng-app="irida">


<div class="container">
    <div th:include="fragments/bodyHeader" th:remove="tag"></div>
    <div class="row-fluid" data-ng-controller="UsersListCtrl" data-ng-init="loadUsers(usersUrl)">
        <div class="span12">

            <ul class="breadcrumb pull-left">
                <li><a href="/">Landing<span class="divider">&nbsp;/</span></a></li>
                <li class="active">All Users</li>
            </ul>
            <div class="pull-right">
                <button class="btn" data-ng-click="openNewUsersModal()"><i class="icon-plus"></i>&nbsp; Add User</button>
                <div class="btn-group">
                    <button class="btn btn-inverse" data-ng-disabled="!links.prev"
                            data-ng-click="loadUsers(links.prev)"><i class="icon-angle-left"></i></button>
                    <button class="btn btn-inverse" data-ng-disabled="!links.next"
                            data-ng-click="loadUsers(links.next)"><i class="icon-angle-right"></i></button>
                </div>
            </div>

            <table class="listTable table table-striped table-bordered">
                <thead>
                <tr class="header">
                    <th th:text="#{user.username}"></th>
                    <th th:text="#{user.firstName}"></th>
                    <th th:text="#{user.lastName}"></th>
                    <th th:text="#{user.email}"></th>
                    <th th:text="#{user.phoneNumber}"></th>
                </tr>
                </thead>
                <tbody data-ng-repeat="user in users">
                <tr data-ng-click="gotoUser(user.links[0].href)">
                    <td>{{user.username}}</td>
                    <td>{{user.firstName}}</td>
                    <td>{{user.lastName}}</td>
                    <td><a href="mailto:{{user.email}}">{{user.email}}</a></td>
                    <td>{{user.phoneNumber}}</td>
                </tr>
                </tbody>
            </table>

        </div>
    </div>
</div>


<script th:src="@{/js/vendor/angular/angular.min.js}"></script>
<script th:src="@{/js/vendor/angular/ui-bootstrap-0.2.0.js}"></script>
<script th:src="@{/js/vendor/angular/angular-resource.min.js}"></script>
<script th:src="@{/js/app.js}"></script>
<script th:src="@{/js/usersCtrl.js}"></script>
</body>
</html>
