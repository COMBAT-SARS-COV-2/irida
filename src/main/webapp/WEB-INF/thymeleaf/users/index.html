<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" type="text/css" href="/css/main.css" th:href="@{/css/main.css}"/>
</head>
<body data-ng-app="irida">
<div class="row">
    <h1>Users List Page</h1>

    <div class="row">
        <div class="large-12 columns">
            <a href="#" data-reveal-id="myModal" class="button right small-screen-expand"><i class="icon-plus"></i>&nbsp;<i
                    class="icon-user"></i></a>
        </div>
    </div>
    <div class="row">
    <table class="large-12 columns" data-ng-controller="usersListCtrl">
        <thead>
            <tr>
                <th style="display:none"></th>
                <th th:text="#{user.username}"></th>
                <th th:text="#{user.firstName}"></th>
                <th th:text="#{user.lastName}"></th>
                <th th:text="#{user.email}"></th>
                <th th:text="#{user.phoneNumber}"></th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="user : ${users}" data-ng-click="goToUser($event)">
                <td style="display: none" th:text="${user.id.href}"></td>
                <td th:text="${user.username}"></td>
                <td th:text="${user.firstName}"></td>
                <td th:text="${user.lastName}"></td>
                <td th:text="${user.email}"></td>
                <td th:text="${user.phoneNumber}"></td>
            </tr>
        </tbody>
    </table>
        </div>
</div>
<div id="myModal" class="reveal-modal" data-ng-controller="newUserModalCtrl">
    <a class="close-reveal-modal">&#215;</a>

    <h2>Add New User</h2>

    <div>
        <div class="row">
            <div data-ng-class="{true:'error', false:''}[errors.username.doesExist]" class="large-6 columns">
                <label th:text="#{user.username}"></label>
                <input type="text" data-ng-model="currUser.username" data-ng-change="focusedInput('username')"/>
                <small class="error" data-ng-show="errors.username.doesExist" data-ng-bind-html-unsafe="errors.username.message"></small>
            </div>
            <div data-ng-class="{true:'error', false:''}[errors.password.doesExist]" class="large-6 columns">
                <label th:text="#{user.password}"></label>
                <input type="password" data-ng-model="currUser.password" data-ng-change="focusedInput('password')"/>
                <small class="error" data-ng-show="errors.password.doesExist" ng-bind-html-unsafe="errors.password.message"></small>
            </div>
        </div>
        <div class="row">
            <div data-ng-class="{true:'error', false:''}[errors.firstName.doesExist]" class="large-6 columns">
                <label th:text="#{user.firstName}"></label>
                <input type="text" data-ng-model="currUser.firstName" data-ng-change="focusedInput('firstName')"/>
                <small class="error" data-ng-show="errors.firstName.doesExist" ng-bind-html-unsafe="errors.firstName.message"></small>
            </div>
            <div data-ng-class="{true:'error', false:''}[errors.lastName.doesExist]" class="large-6 columns">
                <label th:text="#{user.lastName}"></label>
                <input type="text" data-ng-model="currUser.lastName" data-ng-change="focusedInput('lastName')"/>
                <small class="error" data-ng-show="errors.lastName.doesExist" ng-bind-html-unsafe="errors.lastName.message"></small>
            </div>
        </div>
        <div class="row">
            <div data-ng-class="{true:'error', false:''}[errors.email.doesExist]" class="large-6 columns">
                <label th:text="#{user.email}"></label>
                <input type="text" data-ng-model="currUser.email" data-ng-change="focusedInput('email')"/>
                <small class="error" data-ng-show="errors.email.doesExist" ng-bind-html-unsafe="errors.email.message"></small>
            </div>
            <div data-ng-class="{true:'error', false:''}[errors.phoneNumber.doesExist]" class="large-6 columns">
                <label th:text="#{user.phoneNumber}"></label>
                <input type="text" data-ng-model="currUser.phoneNumber" data-ng-change="focusedInput('phoneNumber')"/>
                <small class="error" data-ng-show="errors.phoneNumber.doesExist" ng-bind-html-unsafe="errors.phoneNumber.message"></small>
            </div>
        </div>
        <div class="row">
            <div class="large-12 columns">
                <button class="right" data-ng-click="postNewUser()">Add User</button>
            </div>
        </div>
    </div>
</div>

<script th:src="@{/js/vendor/jquery-1.9.1.min.js}"></script>
<script th:src="@{/js/vendor/foundation/foundation.js}"></script>
<script th:src="@{/js/vendor/foundation/foundation.reveal.js}"></script>
<script th:src="@{/js/vendor/angular/angular.js}"></script>
<script th:src="@{/js/vendor/angular/angular-sanitize.min.js}"></script>
<script th:src="@{/js/controllers/usersCtrl.js}"></script>
<script>
    $(document).foundation();
</script>
</body>
</html>
