<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="template/page">
<head lang="en">
	<title th:text="${project.label}">Project</title>
	<link rel="stylesheet" th:href="@{/resources/bower_components/qtip2/jquery.qtip.min.css}"
	      href="/resources/bower_components/qtip2/jquery.qtip.min.css"/>
	<script th:inline="javascript">
		var project = {
			id: /*[[${project.getId()}]]*/ 1
		};
	</script>
</head>
<body>

<nav class="navbar navbar-default navbar-static-top subnav" role="navigation" layout:fragment="subnav" ng-init="projectSubnav=true" th:with="baseLink=${'/projects/' + project.getId()}">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" ng-click="projectSubnav=!projectSubnav">
				<span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span
					class="icon-bar"></span> <span class="icon-bar"></span>
			</button>
		</div>
		<div class="navbar-collapse"  uib-collapse="projectSubnav" th:inline="text">
			<ul class="nav navbar-nav">
				<li th:class="${activeNav} == 'samples' ? 'active'"><a th:href="@{${baseLink}}">[[#{project.nav.samples}]]&nbsp;<span
						class="badge badge-default" id="sample-count" th:text="${samples}"></span> </a></li>
				<li class="ng-cloak" th:classappend="${activeNav} == 'members' ? 'active'"><a th:href="@{${baseLink} + '/members'}"
				        ng-hide="uiGalaxyCtrl.inGalaxy">[[#{project.nav.members}]]&nbsp;<span
						class="badge badge-default" th:text="${users}"></span></a>
				</li>
				<li th:class="${activeNav} == 'associated' ? 'active'"><a th:href="@{${baseLink} + '/associated'}">[[#{project.nav.associated}]]&nbsp;<span
						class="badge badge-default" th:text="${related_project_count}"></span></a>
				</li>

				<li class="ng-cloak" th:classappend="${activeNav} == 'metadata' ? 'active'" ng-hide="uiGalaxyCtrl.inGalaxy">
					<a th:href="@{${baseLink} + '/metadata'}">[[#{project.nav.metadata}]]</a>
				</li>
				<li class="ng-cloak" th:classappend="${activeNav} == 'reference' ? 'active'" ng-hide="uiGalaxyCtrl.inGalaxy">
					<a href="" th:href="@{${baseLink} + '/referenceFiles'}" th:text="#{project.nav.referenceFiles}">
						_Reference Files
					</a>
				</li>
                <li class="ng-cloak" th:classappend="${activeNav} == 'activity' ? 'active'" ng-hide="uiGalaxyCtrl.inGalaxy">
                    <a href="" th:href="@{${baseLink} + '/activity'}" th:text="#{project.nav.activity}">
                        _Recent_Activity_
                    </a>
                </li>
			</ul>
		</div>
	</div>
</nav>
<div layout:fragment="page">

	<main class="col-md-9 col-md-push-3" layout:fragment="main">
		<!--/*/
		This is where the main content of every project page will go.
		/*/-->
	</main>

	<aside class="col-md-3 col-md-pull-9">
		<section th:include="projects/partials/aside :: aside"></section>
		<section layout:fragment="filter"></section>
	</aside>
</div>

<th:block layout:fragment="page-scripts">
	<!-- TODO: Clean up these nested tags. -->
	<th:block layout:fragment="scripts"></th:block>
</th:block>
</body>
</html>