<!DOCTYPE html>
<html
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="projects/_base">
<head>
	<title th:text="${project.label} + ' - ' + #{project.nav.samples}"></title>
	<script th:inline="javascript">
		window.dependencies = ['irida.projects.samples.controller'];
		var PAGE = {
			urls: {
				project: /*[[@{/projects/{id}/ajax/samples(id=${project.getId()})}]]*/ '',
				local: /*[[@{/projects/{id}/associated/samples(id=${project.getId()})}]]*/ '',
				remote: /*[[@{/projects/{id}/associated/remote/samples(id=${project.getId()})}]]*/ '',
				merge: /*[[@{/projects/{id}/ajax/samples/merge(id=${project.getId()})}]]*/ '',
				remove: /*[[@{/projects/{id}/ajax/samples/delete(id=${project.getId()})}]]*/ '',
				copy: /*[[@{/projects/{id}/ajax/samples/copy(id=${project.getId()})}]]*/ ''
			},
			i18n: {
				associatedSelectedTooltip: /*[[#{project.samples.associated-selected-error}]]*/ '_Unavailable_'
			}
		};
	</script>
</head>
<body>
<main layout:fragment="main" ddl:bundle-includes="project-samples" ddl:asset-css-excludes="jquery.datatables" ng-controller="SamplesController as samplesCtrl">
	<div class="btn-toolbar" style="margin-bottom: 1rem;">
		<div class="btn-group btn-group-sm">
			<button class="btn btn-default">
				<span th:text="#{project.samples.display.title}">_Display_</span>
				<span class="caret"></span>
			</button>
		</div>
		<div class="btn-group btn-group-sm">
			<button class="btn btn-default">
				<span class="fa fa-fw fa-compress"></span>
				<span th:text="#{project.samples.nav.merge}">Merge</span>
			</button>
			<button class="btn btn-default">
				<span class="fa fa-fw fa-copy"></span>
				<span th:text="#{project.samples.nav.copy}">_COPY_</span>
			</button>
			<button class="btn btn-default">
				<span class="fa fa-truck fa-fw"></span>
				<span th:text="#{project.samples.nav.move}"></span>
			</button>
			<button class="btn btn-default">
				<i class="fa fa-trash fa-fw"></i>
				<span th:text="#{project.samples.nav.remove}"></span>
			</button>
		</div>

		<div class="btn-group btn-group-sm">
			<button class="btn btn-default">
				<span th:text="#{project.samples.export.label}">Export</span>
				<span class="caret"></span>
			</button>
		</div>

		<div class="btn-group btn-group-sm">
			<button id="cart-add-btn"
			        class="btn btn-primary" ng-disabled="subnav.count&lt;1">
				<i class="fa fa-fw fa-cart-plus"></i>
				<span th:text="#{project.samples.nav.add-to-cart}">Add to Cart></span>
			</button>
		</div>
	</div>
	<table datatable="ng" class="table"  dt-options="samplesCtrl.dtOptions">
		<thead>
		<tr>
			<th width="30px"><input type="checkbox" ng-model="samplesCtrl.allSelected" ng-click="samplesCtrl.updateAllSelected()" /></th>
			<th th:text="#{project.samples.table.name}">[Name]</th>
			<th th:text="#{project.samples.table.modified}" width="130px">[Modified Date]</th>
			<th th:text="#{project.samples.table.created}" width="130px">[Created Date]</th>
		</tr>
		</thead>
		<tbody>
		<tr ng-repeat="item in ::samplesCtrl.samples">
			<td><input type="checkbox" ng-model="samplesCtrl.selected[$index]" ng-click="samplesCtrl.sampleChanged($index)"/></td>
			<td ng-bind="item.sample.label"></td>
			<td ng-bind="item.sample.modifiedDate | date"></td>
			<td ng-bind="item.sample.createdDate | date"></td>
		</tr>
		</tbody>
	</table>
</main>
</body>
</html>