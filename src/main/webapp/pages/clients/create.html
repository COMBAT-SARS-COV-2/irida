<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="templates/wet-boew/wet-layout">
<head>
<title th:text="#{client.create}">_Create Client_</title>
</head>
<body>
	<div class="container" layout:fragment="content">
		<div class="row">
			<div th:replace="templates/wet-boew/partials/sitemenu :: menu-en">_MENU_</div>
		</div>

		<div class="row">
			<div class="col-md-8 col-md-offset-2 mrgn-tp-lg wb-frmvld">
				<form role="form" action="/clients/create"
					th:action="@{/clients/create}" method="post">
					<section class="panel panel-default">
						<div class="panel-heading">
							<h3 class="panel-title" th:text="#{client.create}">_Create Client_</h3>
						</div>
						<div class="panel-body">
							<div class="form-group">
								<label class="control-label" th:text="#{client.clientid}" for="clientId">_Username_</label> 
								<div th:if="${#maps.containsKey(errors, 'clientId')}" th:text="${errors.clientId}" class="alert alert-warning">_Client ID Error_</div>
								<input type="text" id="clientId" name="clientId" class="form-control input-full" required="required" 
									th:placeholder="#{client.clientid}" th:value="${given_clientId}"/>
							</div>
                            
                            <div class="form-group">
                                <label class="control-label" th:text="#{client.details.tokenValidity}" for="tokenValidity">_Token Validity_</label> 
                                <div th:if="${#maps.containsKey(errors, 'tokenValidity')}" th:text="${errors.tokenValidity}" class="alert alert-warning">_Token Validity Error_</div>
                                
                                <select id="tokenValidity" name="accessTokenValiditySeconds" th:selected="${given_tokenValidity}" class="form-control input-full">
                                    <option class="tokenValidityInSeconds" th:each="time : ${available_token_validity}" th:value="${time}" th:text="${time}" />
                                </select>

                            </div>
							
							<div class="form-group">
								<label class="control-label" th:text="#{client.grant-types}" for="authorizedGrantTypes">_Grant Types_</label>
								<div id="grant-error" th:if="${#maps.containsKey(errors, 'grant')}" th:text="${errors.grant}" class="alert alert-warning">_Role Error_</div>
								<select id="authorizedGrantTypes" name="authorizedGrantTypes" class="form-control input-full" required="required" >
                                    <option th:each="grant : ${available_grants}" th:value="${grant}" th:text="${grant}"/>
								</select>
							</div>
                            
                            <div class="form-group">
                                <label class="control-label" th:text="#{client.scopes}" for="scopes">_Scopes_</label>
                                <div id="scope-error" th:if="${#maps.containsKey(errors, 'scope')}" th:text="${errors.scope}" class="alert alert-warning">_Scope Error_</div>
                                <p>
                                <label for="scope_read">Read</label>
                                <input type="checkbox" id="scope_read" name="scope_read" th:checked="${given_scope_read}" checked="checked" value="read"/>
                                <label for="scope_write">Write</label>
                                <input type="checkbox" id="scope_write" name="scope_write" th:checked="${given_scope_write}" checked="checked" value="write"/>
                                </p>
                            </div>
							
						</div>
                        <div class="panel-footer text-right">
                            <a type="reset" class="btn btn-default" href="#" th:href="@{/clients}">Cancel</a>
                            <button id="create-client-submit" type="submit" th:text="#{client.create.button}" class="btn btn-primary submit">Create User</button>
                        </div>
					</section>
				</form>
			</div>
		</div>
	</div>


	<div layout:fragment="scripts" th:inline="javascript">
    <script th:src="@{/resources/bower_components/moment/min/moment-with-langs.min.js}"
            src="/resources/bower_components/moment/min/moment-with-langs.min.js"></script>
    <script th:src="@{/resources/js/client.js}" src="/resources/js/client.js"></script>
            
		<script type="text/javascript">
			$(document).ready(function () {
				$("#tokenValidity").select2().select2("val",[[${given_tokenValidity}]]);
				$("#authorizedGrantTypes").select2();
			});
			
		</script>
	</div>
</body>
</html>