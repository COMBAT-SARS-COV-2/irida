<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="template/page">
<head lang="en">
	<meta charset="UTF-8"/>
	<title>My Title Goes Here</title>
	<link rel="stylesheet" href="/resources/css/app.css" th:href="@{/resources/css/app.css}"/>
	<link rel="stylesheet" href="/resources/css/pages/analyses.css" th:href="@{/resources/css/pages/analyses.css}"/>
	<style>
		.affix-top {
			position: fixed;
			top: 50px;
			max-width: 100px;
		}

		.affix-top input {
			width: 170px;
		}
	</style>
	<script>window.dependencies = ['irida.analysis.user'];</script>
</head>
<body>
<div layout:fragment="page">
	<div class="main-container">
		<aside class="sidenav" ng-controller="filterController as filter">
			<div class="sidenav__inner--fixed">
				<h2 th:text="#{form.filter}">Filter</h2>

				<div class="form-group">
					<label class="sidenav__label" th:text="#{analysis.filter.name}">Name</label>
					<input id="filter-name"
					class="form-control input-full" type="search"
					ng-model="filter.search"
					ng-model-options="{ debounce: 350 }" ng-change="filter.doSearch()"/>
				</div>
			</div>
		</aside>
		<div class="content ng-cloak" ng-controller="analysisController as ctrl">
			<ul class="boards">
				<li class="board" ng-repeat="analysis in ctrl.analyses | analysesFilter">
					<div class="button board_inner row">
						<div ng-class="'analysis__state--' + analysis.analysisState" class="analysis__state col-md-2">
							<div class="board_detail--value">{{::analysis.analysisState | stateFilter}}</div>
							<div class="board_detail--desc" th:text="#{analyses.state}">State</div>
						</div>
						<div class="col-md-6">
							<div class="board_detail--value">{{analysis.label}}</div>
							<div class="board_detail--desc" th:text="#{analyses.analysis-name}">Analysis Name</div>
						</div>
						<div class="col-md-4">
							<div class="board_detail--value">{{::analysis.createdDate | date:'medium'}}</div>
							<div class="board_detail--desc" th:text="#{analysis.date-created}">Date Created</div>
						</div>
					</div>
				</li>
			</ul>
		</div>
	</div>
</div>
<th:block layout:fragment="page-scripts">
	<script th:inline="javascript">
		var STATE_MAP = /*[[${states}]]*/ {};
	</script>
	<script src="/resources/js/pages/analyses/analyses_user.js"
	        th:src="@{/resources/js/pages/analyses/analyses_user.js}"></script>
</th:block>
</body>
</html>