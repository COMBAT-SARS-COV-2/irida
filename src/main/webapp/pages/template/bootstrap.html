<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="template/page">
<body>
<nav id="topnav" class="navbar navbar-inverse navbar-static-top" role="navigation"
     ng-init="navbarCollapsed = true">
	<div class="container">
		<!-- Brand and toggle get grouped for better mobile display -->
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
			        data-target="#bs-example-navbar-collapse-1"
			        ng-click="navbarCollapsed = !navbarCollapsed">
				<span class="sr-only" th:text="#{sr.nav.toggle}">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" th:href="@{/}" href="#" th:text="#{global.title}">IRIDA</a>
		</div>

		<!-- Collect the nav links, forms, and other content for toggling -->
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"
		     collapse="navbarCollapsed">
			<ul class="nav navbar-nav">
				<li class="dropdown" dropdown="">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown" dropdown-toggle="" role="button">
						<span th:text="#{nav.main.project}">Projects</span>
						&nbsp;
						<span class="caret"></span>
					</a>
					<ul class="dropdown-menu" role="menu">
						<li>
							<a href="/projects" th:href="@{/projects}"
							   th:text="#{nav.main.project-list}">List Projects
							</a>
						</li>
						<li>
							<a th:href="@{/projects/new}" href="/projects/new"
							   th:text="#{nav.main.project-create}">Create New Project
							</a>
						</li>
						<li sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_MANAGER')">
							<a href="/projects/all" th:href="@{/projects/all}"
							   th:text="#{nav.main.project-list-all}">One more separated link
							</a>
						</li>
					</ul>
				</li>
				<li>
					<a th:href="@{/pipelines}" href="/pipelines" th:text="#{nav.main.pipelines}">Pipelines</a></li>
				<li class="dropdown" dropdown="">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown" dropdown-toggle="" role="button">
						<span th:text="#{nav.main.users}">Users</span>
						&nbsp;
						<span class="caret"></span>
					</a>
					<ul class="dropdown-menu" role="menu">
						<li>
							<a href="/users" th:href="@{/users}" th:text="#{nav.main.users-list}">
								List Users
							</a>
						</li>
						<li sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_MANAGER')">
							<a href="#" th:href="@{/users/create}" th:text="#{nav.main.add.user}">
								Add User
							</a>
						</li>
					</ul>
				</li>
				<li class="dropdown" dropdown="">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown" dropdown-toggle="">
						<span th:text="#{nav.main.analysis}">Analysis</span>
						&nbsp;
						<span class="caret"></span>
					</a>
					<ul class="dropdown-menu" role="menu">
						<li>
							<a th:href="@{/analysis/list}" href="/analysis/list" th:text="#{nav.main.analysis-user}">Your Analysis</a>
						</li>
						<li sec:authorize="hasAnyRole('ROLE_ADMIN')">
							<a th:href="@{/analysis/admin}" href="/analysis/admin"
							   th:text="#{nav.main.analysis-admin}">List All Analysis
							</a>
						</li>
					</ul>
				</li>
			</ul>
			<ul class="nav navbar-nav navbar-right">
				<li sec:authorize="hasRole('ROLE_ADMIN')" class="dropdown" dropdown="">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown" dropdown-toggle="">
						<span th:text="#{nav.main.admin}">Admin</span>
						<span class="caret"></span>
					</a>
					<ul class="dropdown-menu" role="menu">
						<li>
							<a href="#" th:href="@{/clients}" th:text="#{nav.main.clients}">
								_Clients_
							</a>
						</li>
						<li>
							<a href="#" th:href="@{/sequencingRuns}" th:text="#{nav.main.sequencingruns}">
								_Sequencing Runs_
							</a>
						</li>
					</ul>
				</li>
				<li class="dropdown" dropdown="">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown" dropdown-toggle="">
						<span th:text="#{nav.main.settings}">Account</span>
						<span class="caret"></span>
					</a>
					<ul class="dropdown-menu" role="menu">
                        <!--/* TODO: Re-enable for federated data
						<li>
							<a href="#" th:href="@{/remote_api}" th:text="#{nav.main.remoteapis}">
								Remote API Status
							</a>
						</li>
						<li class="divider"></li>
                        */-->
						<li>
							<a href="#" th:href="@{/users/current}" th:text="#{nav.main.account}">
								Account
							</a>
						</li>
					</ul>
				</li>
				<li>
					<a th:href="@{/logout}" th:title="#{nav.main.logout}" href="/logout"><i class="fa fa-sign-out"></i> </a>
				</li>
			</ul>
			<button id="cart-show-btn" type="button" class="btn btn-info btn-sm navbar-btn navbar-right" ng-class="cart.animation"
			        ng-click="cart.show=!cart.show">
				<span th:text="#{cart.label}"></span>
				&nbsp;
				<span id="cart-count" class="badge badge-default" ng-bind="cart.count">0</span>
			</button>
		</div>
		<!-- /.navbar-collapse -->
	</div>
	<!-- /.container-fluid -->
</nav>
</body>
</html>
