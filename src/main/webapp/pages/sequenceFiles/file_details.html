<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="sequenceFiles/_base">
<head>
    <title th:text="${file.getLabel()}"></title>
    <link rel="stylesheet" th:href="@{/resources/bower_components/magnific-popup/dist/magnific-popup.css}"
          href="/resources/bower_components/magnific-popup/dist/magnific-popup.css"/>
</head>
<body>

<main layout:fragment="main">
    <h1 id="wb-cont" role="heading" th:text="${file.getLabel()}"></h1>

    <p class="lead" th:text="${fastQC.description}">...</p>

    <section class="sequenceFile">
        <h2 th:text="#{sf.quality-charts}">__Quality_Charts__</h2>

        <div class="row">
            <div class="col-md-4">
                <a class="image-link" th:href="@{/sequenceFiles/img/{id}/perbase(id=${file.getId()})}" href="#"
                   title="Quality scores across all bases">
                    <img th:src="@{/sequenceFiles/img/{id}/perbase(id=${file.getId()})}" src=""
                         th:alt="#{sf.img.perbase}"
                         alt="Quality scores across all bases"/></a>
            </div>
            <div class="col-md-8">
                <h2 th:text="#{sf.img.perbase}"></h2>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                <a class="image-link" th:href="@{/sequenceFiles/img/{id}/persequence(id=${file.getId()})}"
                   href="#"
                   title="Quality score distribution over all sequences">
                    <img th:src="@{/sequenceFiles/img/{id}/persequence(id=${file.getId()})}"
                         src="/sequenceFile/img/1-persequence"
                         th:alt="#{sf.img.persequence}"
                         alt="Quality score distribution over all sequences"/></a>
            </div>
            <div class="col-md-8">
                <h2 th:text="#{sf.img.persequence}"></h2>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                <a class="image-link" th:href="@{/sequenceFiles/img/{id}/duplicationlevel(id=${file.getId()})}"
                   href="#" title="Sequence Duplication Level">
                    <img th:src="@{/sequenceFiles/img/{id}/duplicationlevel(id=${file.getId()})}"
                         src="/sequenceFile/img/1-duplicationlevel"
                         th:alt="#{sf.img.dublicationlevel}" alt="Sequence Duplication Level"/></a>
            </div>
            <div class="col-md-8">
                <h2 th:text="#{sf.img.dublicationlevel}"></h2>
            </div>
        </div>
    </section>
</main>
<th:block layout:fragment="pageScripts" th:inline="javascript">
    <script>
        $(document).ready(function () {
            $('.image-link').magnificPopup({
                removalDelay: 300,
                mainClass: 'mfp-with-zoom',
                type: 'image',
                closeBtnInside: true,
                image: {
                    verticalFit: true,
                    titleSrc: function (item) {
                        return item.el.attr('title');
                    }
                },
                zoom: {
                    enabled: true,
                    duration: 300,
                    easing: 'ease-in-out',
                    opener: function (openerElement) {
                        return openerElement.is('img') ? openerElement : openerElement.find('img');
                    }
                }
            });
        });
    </script>
</th:block>
</body>
</html>