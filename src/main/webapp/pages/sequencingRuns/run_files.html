<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  data-layout-decorate="~{sequencingRuns/_details_base}"
>
  <head>
    <link rel="stylesheet" th:href="@{/dist/css/run-files.bundle.css}" />
  </head>
  <body>
    <main layout:fragment="main">
      <div class="row">
        <div class="col-md-12">
          <table id="filesTable" class="table table-striped">
            <thead>
              <tr role="row">
                <th th:text="#{sequencingruns.files.id}">ID</th>
                <th th:text="#{sequencingruns.files.name}">Name</th>
                <th th:text="#{sequencingruns.files.size}">Size</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <th:block th:each="seqObject : ${sequencingObjects}">
                <tr
                  class="file-row"
                  role="row"
                  th:each="fileObject : ${seqObject.sequenceFileDetailsList}"
                  th:id="${'file-row-' + fileObject.sequenceFile.identifier}"
                >
                  <td class="file-id" th:text="${fileObject.sequenceFile.identifier}">ID</td>
                  <td>
                    <a
                      class="file-name btn btn-default btn-xs"
                      th:href="@{/sequencingRuns/{runId}/sequenceFiles/{objId}/file/{id}/summary(runId=${run.getId()}, objId=${seqObject.sequencingObjectId}, id=${fileObject.sequenceFile.getId()})}"
                      href="#"
                      th:text="${fileObject.sequenceFile.label}"
                    ></a>
                  </td>
                  <td
                    data-order="${fileObject.fileSize}"
                    th:text="${fileObject.fileSize}"
                  ></td>
                  <td class="file-buttons">
                    <div class="btn-toolbar pull-right">
                      <button
                        class="btn btn-primary btn-xs download-file"
                        th:attr="data-file-id=${fileObject.sequenceFile.getId()},data-object-id=${seqObject.sequencingObjectId}"
                      >
                        <span class="fa fa-fw fa-download"></span>
                      </button>
                    </div>
                  </td>
                </tr>
              </th:block>
            </tbody>
          </table>
        </div>
      </div>
    </main>
    <th:block layout:fragment="scripts">
      <script th:src="@{/dist/js/run-files.bundle.js}"></script>
    </th:block>
  </body>
</html>
