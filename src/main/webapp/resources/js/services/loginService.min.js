/**
 * User:    Josh Adam <josh.adam@phac-aspc.gc.ca>
 * Date:    2013-06-04
 * Time:    10:23 AM
 * License: MIT
 */(function(e,t){"use strict";t.factory("loginService",["Base64","$cookieStore","$http",function(e,t,n){n.defaults.headers.common.Authorization="Basic "+t.get("authdata");return{setHeader:function(r,i,s){if(typeof r=="string"&&typeof i=="string"){var o=e.encode(r+":"+i);n.defaults.headers.common.Authorization="Basic "+o;t.put("authdata",o);typeof s=="function"&&s()}},setAuthHeader:function(e,t){n.defaults.headers.common.Authorization="Basic "+e;t()},deleteHeader:function(){t.remove("authdata");n.defaults.headers.common.Authorization="Basic "}}}]).factory("Base64",function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(t){var n="",r,i,s="",o,u,a,f="",l=0;do{r=t.charCodeAt(l++);i=t.charCodeAt(l++);s=t.charCodeAt(l++);o=r>>2;u=(r&3)<<4|i>>4;a=(i&15)<<2|s>>6;f=s&63;isNaN(i)?a=f=64:isNaN(s)&&(f=64);n=n+e.charAt(o)+e.charAt(u)+e.charAt(a)+e.charAt(f);r=i=s="";o=u=a=f=""}while(l<t.length);return n},decode:function(t){var n="",r,i,s="",o,u,a,f="",l=0,c=/[^A-Za-z0-9\+\/\=]/g;c.exec(t)&&alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding.");t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{o=e.indexOf(t.charAt(l++));u=e.indexOf(t.charAt(l++));a=e.indexOf(t.charAt(l++));f=e.indexOf(t.charAt(l++));r=o<<2|u>>4;i=(u&15)<<4|a>>2;s=(a&3)<<6|f;n+=String.fromCharCode(r);a!=64&&(n+=String.fromCharCode(i));f!=64&&(n+=String.fromCharCode(s));r=i=s="";o=u=a=f=""}while(l<t.length);return n}}})})(angular,NGS);