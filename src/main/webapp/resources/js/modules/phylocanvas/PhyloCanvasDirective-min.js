!function(e,t){"use strict";e.module("phylocanvas",[]).directive("phylocanvas",function n(){var n;return{restrict:"E",transclude:!0,replace:!0,template:"<div ng-transclude></div>",scope:{shape:"@"},link:function(o,c,s){e.element("#phylocanvas").css({height:"500px",width:"100%"}),n=new t.Tree("phylocanvas",s.config),n.setTreeType(o.shape),n.load(s.newick)},controller:["$scope",function(e){e.setShape=function(e){n.setTreeType(e)}}]}}).directive("phylocanvasControls",function(){return{require:"^phylocanvas",replace:!0,transclude:!0,template:'<div style="margin-bottom: 10px;"><div class="btn-group" role="group"><button ng-repeat="control in controls" ng-click="select(control)" class="btn btn-default btn-sm" ng-class="{active: control.selected}">{{control.text}}</button></div><div ng-transclude></div></div>',restrict:"E",controller:["$scope",function(t){t.controls=[],t.shape=t.$parent.shape,t.select=function(n){e.forEach(t.controls,function(t){t.selected=e.equals(n,t)}),t.$parent.setShape(n.shape)},this.addControl=function(e){e.shape===t.shape&&(e.selected=!0),t.controls.push(e)}}]}}).directive("phylocanvasControl",function(){return{require:"^phylocanvasControls",restrict:"E",replace:!0,template:"",scope:{shape:"@",text:"@"},link:function(e,t,n,o){o.addControl(e)}}})}(window.angular,window.PhyloCanvas);